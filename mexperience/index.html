<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>mExperience</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/theme.css">
    <link href="css/animate.css" rel="stylesheet" type="text/css"/>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:700,300,600,800,400' rel='stylesheet' type='text/css'>

    <script type="text/javascript">

        function Validate() {

            var IsValid = true;
            if (trim($('#name').val()) == '') {
                $('#name').on('focusout', function () {
                    if ($('.errorNameContent').is(':visible')) {
                        $('.errorNameContent').html('').slideUp(500);
                    }
                });
                $('.errorNameContent').html('Please enter name.').slideDown(500);
                IsValid = false;
                //return IsValid;
            }

            else if (trim($('#mobile').val()) == '') {
                $('#mobile').on('focusout', function () {
                    if ($('.mobile').is(':visible')) {
                        $('.mobile').html('').slideUp(500);
                    }
                });
                $('.mobile').html('Please enter mobile number.').slideDown(500);
                IsValid = false;
                //return IsValid;
            }


            else if (trim($('#email').val()) != '') {
                var emailId = '';
                emailId = trim($('#email').val());
                if (!ValidateEmail(emailId)) {
                    $('#email').on('focusout', function () {
                        if ($('.errorEmailContent').is(':visible')) {
                            $('.errorEmailContent').html('').slideUp(500);
                        }
                    });
                    $('.errorEmailContent').html('Please enter valid email.').slideDown(500);
                    IsValid = false;
                    //return IsValid;
                }
            }


            else if (trim($('#mobile').val()) != '') {

                var mobileno = '';
                mobileno = trim($('#mobile').val());
                if (!ValidateMobile(mobileno)) {
                    $('#mobile').on('focusout', function () {
                        if ($('.mobile').is(':visible')) {
                            $('.mobile').html('').slideUp(500);
                        }
                    });
                    $('.mobile').html('Please enter valid mobile number.').slideDown(500);
                    IsValid = false;
                    //return IsValid;
                }
            }
            return IsValid;
        }

        function ValidateEmail(elementValue) {
            var emailPattern = /\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/; ///^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
            return emailPattern.test(elementValue);
        }
        function ValidateMobile(elementValue) {
            // var regDigit = /^(\d)(?!\1+$)\d{10}$/;
            // return regDigit.test(elementValue);
            if (elementValue.length > 12 || elementValue.search(/[^0-9\-()+]/g) != -1) {
                return false;
            }
            else {
                return true;
            }
        }
        function trim(stringToTrim) {
            return stringToTrim.replace(/^\s+|\s+$/g, "");
        }
        function ValidateServer(element, message) {
            if (element == 'EmailMobileAny') {
                $('#MainContent_Email,#MainContent_MobileNumber').val('').on('focusout', function () {
                    if ($('.errorEmailContent,.errorMobileNumberContent').is(':visible')) {
                        $('.errorEmailContent,.errorMobileNumberContent').html('').slideUp(500);
                    }
                });
                $('.errorEmailContent,.errorMobileNumberContent').html(message).slideDown(500);
            }
            else {
                $('#MainContent_' + element).val('').on('focusout', function () {
                    if ($('.error' + element + 'Content').is(':visible')) {
                        $('.error' + element + 'Content').html('').slideUp(500);
                    }
                });
                $('.error' + element + 'Content').html(message).slideDown(500);
            }
            return false;
        }
        function GeneralErrorSetter(msg) {
            $('#GeneralErrorContainer').html(msg).slideDown(500).slideUp(6000);
        }
        var messages = {
            nameRequired: "Please enter name.",
            emailMobileAny: "Please enter either email or mobile number or both.",
            email: "Please enter valid email.",
            mobileNumber: "Please enter a valid mobile number."
        }
    </script>


</head>
<body>
    <!-- Open the output in a new blank tab (Click the arrow next to "Show Output" button) and resize the window to understand how the Bootstrap responsive grid system works. -->
    <div class="container">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">
                        <img src="images/m-experience.png" alt="mExperience" width="80%" title="mExperience">
                    </a>
                </div>
            </div>
            <!-- /.container-fluid -->
        </nav>
    </div>

    <div class="col-md-12 mk-bg text-center"><br/>
        <h1 class="mk-dark-green"><b>GET YOUR DEALS ON MAGIC TUESDAY</b></h1>
        <h3 class="mk-dark-green">Experience Tuesday with your family like never before</h3>
    </div>

    <div class="col-md-12 mk-primary-bg">
        <div class="container">
            <div class="row display">
                <div class="col-sm-3">
                    <div class="form-group">
                        <input type="text" class="form-control typeahead" id="cuisine" placeholder="Cuisine">
                    </div>
                </div>

                <div class="col-sm-3">
                    <div class="form-group">
                        <input type="text" class="form-control typeahead" id="city" placeholder="City">
                    </div>
                </div>

                <div class="col-sm-3">
                    <div class="form-group">
                        <input type="text" class="form-control typeahead" id="locality" placeholder="Location">
                    </div>
                </div>

                <div class="col-sm-3">
                    <button id="get-suggestions" type="submit" class="btn btn-primary btn-block text-uppercase">Search now</button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row top-buffer">
            <div class="col-md-12 text-center">
                <H2>THIS IS HOW IT WORKS</H2>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row top-buffer">
            <div class="col-md-3 text-center">
                <img class="wow bounceIn" data-wow-delay="200ms" src="images/select.png" height="60" alt="Select option">

                <h3 class="primary-color">STEP 1</h3>
                <h4>SELECT</h4>
                Lorem ipsum dolor sit amet, adipisicing elit. Ad consectetur quibusdam, repudiandae est.
            </div>

            <div class="col-md-3 text-center">
                <img class="wow bounceIn" data-wow-delay="600ms" src="images/download.png" height="60" alt="Download">

                <h3 class="primary-color">STEP 2</h3>
                <h4>DOWNLOAD</h4>
                Lorem ipsum dolor sit amet, adipisicing elit. Ad consectetur quibusdam, repudiandae est.
            </div>

            <div class="col-md-3 text-center">
                <img class="wow bounceIn" data-wow-delay="1000ms" src="images/visit.png" height="60" alt="Visit the outlet">

                <h3 class="primary-color">STEP 3</h3>
                <h4>VISIT THE OUTLET</h4>
                Lorem ipsum dolor sit amet, adipisicing elit. Ad consectetur quibusdam, repudiandae est.
            </div>

            <div class="col-md-3 text-center">
                <img class="wow bounceIn" data-wow-delay="1400ms" data-wow-delay="200ms" src="images/share.png" height="60"
                     alt="Share">

                <h3 class="primary-color">STEP 4</h3>
                <h4>SHARE</h4>
                Lorem ipsum dolor sit amet, adipisicing elit. Ad consectetur quibusdam, repudiandae est.
            </div>
        </div>
    </div>


    <div class="col-md-12 mk-tertiary-bg top-buffer">
        <div class="container">
            <h2 class="text-center mk-white">CHECK OUT EXCLUSIVE MONEY-SAVING SPECIALS</h2>
            <!--Placeholder for landing page offers-->
            <div id="landing-page-offers" class="row top-buffer"></div>
        </div>
    </div>


    <div class="col-md-12 mk-tertiary-bg text-center">
        <button type="submit" class="btn btn-mk-green">SEE MORE VOUCHERS</button>
    </div>

    <div class="col-md-12 mk-tertiary-bg text-center"></div>


    <div class="col-md-12  top-buffer">
        <div class="container">
            <H2 class="text-center mk-gray">RESTAURANT THAT HAVE EXCLUSIVE DEALS</H2>
            <!--Placeholder for exclusive offers-->
            <div id="landing-page-exclusives" class="row top-buffer"></div>
        </div>
    </div>


    <div class="col-md-12  text-center">
        <button type="submit" class="btn btn-mk-pink">SEE MORE VOUCHERS</button>
    </div>

    <div class="col-md-12  text-center"></div>


    <div class="col-md-12 mk-primary-bg">
        <div class="container text-center ">
            <h4>mExperience@2015</h4>
        </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.6.0/lodash.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/reffer.js"></script>
    <script src="js/typeahead.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/data.js"></script>
    <script src="js/suggestions.js"></script>
    <script src="js/render.js"></script>

    <script>
        jQuery(function() {
            var offersSource = new mExperience.offers.DataSource().initialize("https://spreadsheets.google.com/feeds/list/19aMSbuRSvaOOOjTCuXcIP3Wt-0WyZMtssi4H2DD--EM/od6/public/values?alt=json&callback=?");

            var suggestions = new mExperience.offers.Suggestions({
                // Source for offers data
                data: offersSource,
                // Selectors / HTML elements / jQuery instances pointing to search inputs
                cuisine: "#cuisine",
                city: "#city",
                locality: "#locality"
            });

            offersSource.then(function(offersWrapper) {
                var offers = offersWrapper.data;
                var landingPageOffers = _.filter(offers, function(offer) { return offer.promoted; });
                var landingPageExclusives = _.filter(offers, function(offer) { return offer.exclusive; });

                window.mExperience.offers.render.landingPageOffers("#landing-page-offers", landingPageOffers);
                window.mExperience.offers.render.landingPageExclusives("#landing-page-exclusives", landingPageExclusives);
            });
        });
    </script>
</body>
</html>